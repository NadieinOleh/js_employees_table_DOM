{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tbodyRows","tBodies","rows","tbody","direction","sortTableString","cellIndex","sortString","sort","prev","current","prevStr","cells","textContent","currentStr","localeCompare","append","sortTableNumber","cellNumber","sortNumber","prevNum","toNumber","innerText","currentNum","string","numb","replace","tHead","addEventListener","e","target","forEach","elem","classList","parentNode","insertAdjacentHTML","initialValue","form","createNotification","titleAndClass","description","body","message","setTimeout","remove","elements","button","preventDefault","data","FormData","f","Object","fromEntries","entries","name","length","age","isNaN","position","NewtrForTable","createElement","tdName","tdPosition","tdOffice","tdAge","tdSalary","office","salary","toLocaleString","push","reset","event2","input","td","innerHTML","value","className","trim","key"],"mappings":"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","file":"main.004a6ebf.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbodyRows = [...table.tBodies[0].rows];\nconst tbody = document.querySelector('tbody');\n\nlet direction = null;\n\nconst sortTableString = (cellIndex) => {\n  const sortString = tbodyRows.sort((prev, current) => {\n    const prevStr = prev.cells[cellIndex].textContent;\n    const currentStr = current.cells[cellIndex].textContent;\n\n    if (direction === 'desc') {\n      return currentStr.localeCompare(prevStr);\n    }\n\n    return prevStr.localeCompare(currentStr);\n  });\n\n  table.tBodies[0].append(...sortString);\n};\n\nfunction sortTableNumber(cellNumber) {\n  const sortNumber = tbodyRows.sort((prevStr, currentStr) => {\n    const prevNum = toNumber(prevStr.cells[cellNumber].innerText);\n    const currentNum = toNumber(currentStr.cells[cellNumber].innerText);\n\n    if (direction === 'desc') {\n      return currentNum - prevNum;\n    }\n\n    return prevNum - currentNum;\n  });\n\n  table.tBodies[0].append(...sortNumber);\n}\n\nfunction toNumber(string) {\n  const numb = +string.replace(/\\D/g, '');\n\n  return numb;\n}\n\ntable.tHead.addEventListener('click', (e) => {\n  switch (true) {\n    case (e.target.cellIndex === 0):\n      if (direction === null) {\n        sortTableString(0);\n        direction = 'asc';\n      } else if (direction === 'asc') {\n        sortTableString(0);\n        direction = 'desc';\n      } else {\n        sortTableString(0);\n        direction = 'asc';\n      }\n\n      return;\n\n    case (e.target.cellIndex === 1):\n      if (direction === null) {\n        sortTableString(10);\n        direction = 'asc';\n      } else if (direction === 'asc') {\n        sortTableString(1);\n        direction = 'desc';\n      } else {\n        sortTableString(1);\n        direction = 'asc';\n      }\n\n      return;\n\n    case (e.target.cellIndex === 2):\n      if (direction === null) {\n        sortTableString(2);\n        direction = 'asc';\n      } else if (direction === 'asc') {\n        sortTableString(2);\n        direction = 'desc';\n      } else {\n        sortTableString(2);\n        direction = 'asc';\n      }\n\n      return;\n\n    case (e.target.cellIndex === 3):\n      if (direction === null) {\n        sortTableNumber(3);\n        direction = 'asc';\n      } else if (direction === 'asc') {\n        sortTableNumber(3);\n        direction = 'desc';\n      } else {\n        sortTableNumber(3);\n        direction = 'asc';\n      }\n\n      return;\n\n    case (e.target.cellIndex === 4):\n      if (direction === null) {\n        sortTableNumber(4);\n        direction = 'asc';\n      } else if (direction === 'asc') {\n        sortTableNumber(4);\n        direction = 'desc';\n      } else {\n        sortTableNumber(4);\n        direction = 'asc';\n      }\n  }\n});\n\ntbody.addEventListener('click', (e) => {\n  tbodyRows.forEach(elem => {\n    elem.classList = '';\n  });\n\n  e.target.parentNode.classList = 'active';\n});\n\ntable.insertAdjacentHTML('afterend', `\n  <form class= \"new-employee-form\">\n    <label>\n      Name: <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n    </label>\n    <label>\n      Position: <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n    </label>\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\" required>\n        <option selected>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n    <label>\n      Age: <input name=\"age\" type=\"number\"\n      data-qa=\"age\" min= 0 max= 100 required>\n    </label>\n    <label>\n      Salary: <input name=\"salary\" type=\"number\"\n        data-qa=\"salary\" min= 0 max= 100 required>\n    </label>\n    <button name=\"button\" type=\"submit\">Save to table</button>\n  </form>\n`);\n\nconst form = document.querySelector('.new-employee-form');\n\nfunction createNotification(titleAndClass, description) {\n  document.body.insertAdjacentHTML('afterbegin', `\n    <div class=\"notification data-qa=\"notification\" ${titleAndClass}\">\n      <span class=\"title\">${titleAndClass}</span>\n      <p>${description}</p>\n    </div>\n  `);\n\n  const message = document.querySelector('.notification');\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n}\n\nform.elements.button.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const f = Object.fromEntries(data.entries());\n\n  if (f.name.length < 4\n      || +f.age < 18\n      || +f.age > 90\n      || !isNaN(f.position)\n      || !isNaN(f.name)) {\n    createNotification('error', 'Please enter correct data');\n\n    return;\n  }\n\n  const NewtrForTable = document.createElement('tr');\n  const tdName = document.createElement('td');\n  const tdPosition = document.createElement('td');\n  const tdOffice = document.createElement('td');\n  const tdAge = document.createElement('td');\n  const tdSalary = document.createElement('td');\n\n  tdName.innerText = f.name;\n  tdPosition.innerText = f.position;\n  tdOffice.innerText = f.office;\n  tdAge.innerText = f.age;\n  tdSalary.innerText = `$${f.salary.toLocaleString('en-US')}`;\n  NewtrForTable.append(tdName, tdPosition, tdOffice, tdAge, tdSalary);\n  tbodyRows.push(NewtrForTable);\n  tbody.append(NewtrForTable);\n\n  form.reset();\n  createNotification('success', 'Correct data, You added new row');\n});\n\nlet initialValue;\n\ntbody.addEventListener('dblclick', (event2) => {\n  const input = document.createElement('input');\n  const td = event2.target;\n\n  initialValue = td.innerHTML;\n  input.value = td.innerHTML;\n  input.className = 'cell-input';\n  td.innerHTML = '';\n  td.append(input);\n\n  if (td.cellIndex === 3) {\n    if (+input.value < 18 || +input.value < 90) {\n      input.value = initialValue;\n    }\n  }\n\n  if (td.cellIndex === 4) {\n    input.value = `$${td.textContent.toLocaleString('en-US')}`;\n  }\n\n  input.addEventListener('blur', () => {\n    if (input.value === '') {\n      td.textContent = initialValue;\n      input.remove();\n\n      return;\n    }\n\n    if (td.cellIndex === 3) {\n      if (+input.value < 18 || +input.value > 90 || isNaN(input.value)) {\n        td.textContent = initialValue;\n        input.remove();\n\n        return;\n      }\n    }\n\n    td.innerHTML = input.value.trim();\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (e) => {\n    if (input.value === '' && e.key === 'Enter') {\n      td.textContent = initialValue;\n      input.remove();\n\n      return;\n    }\n\n    if (e.key === 'Enter') {\n      td.textContent = input.value.trim();\n      input.remove();\n    }\n  });\n});\n"]}